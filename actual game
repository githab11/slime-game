import random
import colorama
from colorama import Fore, Back, Style

# Define all vars
player_maxhealth = 10
player_health = 10
player_damage = 2
slimehealth = random.randint(5, 7)
slimedamage = random.randint(2, 3)
skeleton_damage = random.randint(6, 9)
print(Fore.RED + "Welcome to my game.")

# Import stats
def stats(player_health, player_damage):
    view_stats = input(Fore.LIGHTGREEN_EX + "Would you like to view your stats (y/n)?: ")
    if view_stats == 'y':
        print("Your health is: ", Fore.RED + str(player_health))
        print("Your damage is: ", Fore.LIGHTRED_EX + str(player_damage))
    elif view_stats == 'n':
        pass

# Import slime
def slime_attack():
    global player_health, slimehealth, slimedamage, player_maxhealth, player_damage
    print(Fore.YELLOW + "You encounter a slime!")
    print(Fore.RED + "Slime's dmg is: " + str(slimedamage))

    while slimehealth >= 0:
        slime_input = input(Fore.LIGHTGREEN_EX + "Would you like to attack the slime? (y/n): ")

        if slime_input[0].lower() == 'y':
            slimehealth -= player_damage  # Update the slime's health
            print(Fore.LIGHTRED_EX + "The slime's health is: " + str(slimehealth))
            print(Fore.RED + "You're now at " + str(player_health) + "!")
            player_health -= slimedamage
        elif slime_input[0].lower() == 'n':
            print(Fore.GREEN + "The slime attacked you for: " + str(slimedamage))
        else:
            print(Fore.GREEN + "Invalid input, detecting you would attack.")

    if slimehealth < 0 or slimehealth == 0:
        print(Fore.LIGHTBLACK_EX + "You win!")

        # Rerolling the slime stats
        slimehealth = random.randint(5, 7)
        slimedamage = random.randint(2, 3)

        print(Fore.RED + "You have been healed to " + str(player_maxhealth) + " Health!")
        player_health = player_maxhealth
        level_up = input("Would you like to level up strength or health??: ")
        if level_up[0].lower() == 'h' or level_up[0].lower() == 'm': # input to increase health
            player_maxhealth += 1
            print("your max health has increased by 1, your damage is now", player_health)
        elif level_up[0].lower() == 'd' or level_up[0].lower() == 's': # input to increase damage
            player_damage += 1
            print("your damage has increased by 1, your damage is now", player_damage)
        else:
            print("Invalid input, leveling up damage")
            player_damage += 1
            print("Damage is now" + player_damage)

    if player_health <= 0:
        print("You lose!")


# Actual game
while True:
    stats(player_health, player_damage)
    slime_attack()


